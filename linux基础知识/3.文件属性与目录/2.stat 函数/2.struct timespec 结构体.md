## struct timespec 结构体

该结构体定义在<time.h>头文件中，是 Linux 系统中时间相关的结构体。应用程序中包含了<time.h>头

文件，就可以在应用程序中使用该结构体了，结构体内容如下所示：

示例代码 5.2.2 struct timespec 结构体


struct timespec

{

time\_t tv\_sec;

/\* 秒 \*/

syscall\_slong\_t tv\_nsec; /\* 纳秒 \*/

};


struct timespec 结构体中只有两个成员变量，一个秒（tv\_sec）、一个纳秒（tv\_nsec），time\_t 其实指的

就是 long int 类型，所以由此可知，该结构体所表示的时间可以精确到纳秒，当然，对于文件的时间属性来

说，并不需要这么高的精度，往往只需精确到秒级别即可。

在 Linux 系统中，time\_t 时间指的是一个时间段，从某一个时间点到某一个时间点所经过的秒数，譬如

对于文件的三个时间属性来说，指的是从过去的某一个时间点（这个时间点是一个起始基准时间点）到文件

最后被访问、文件内容最后被修改、文件状态最后被改变的这个时间点所经过的秒数。time\_t 时间在 Linux

下被称为日历时间，7.2 小计中对此有详细介绍。

由示例代码 5.2.1 可知，structstat 结构体中包含了三个文件相关的时间属性，但这里得到的仅仅只是以

秒+微秒为单位的时间值，对于我们来说，并不利用查看，我们一般喜欢的是“2020-10-10 18:30:30”这种形

式表示的时间，直观、明了，那有没有办法通过秒来得到这种形式表达的时间呢？答案当然是可以，譬如可

以通过 localtime()/localtime\_r()或者 strftime()来得到更利于我们查看的时间表达方式，关于这些函数的介绍

以及使用方法在 7.2.4 小节有详细说明。
